# NestJS Bookings API

–ü—Ä–æ–µ–∫—Ç –Ω–∞ NestJS —Å PostgreSQL –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏.

---

## üìå –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend:** NestJS  
- **ORM:** TypeORM  
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL  
- **–Ø–∑—ã–∫:** TypeScript  
- **HTTP –∫–ª–∏–µ–Ω—Ç:** Postman / curl

---

## ‚öô –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone <—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd nest-bookings
```

### 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ª–æ–∫–∞–ª—å–Ω–æ):

```sql
CREATE DATABASE bookings_db;
CREATE USER postgres WITH ENCRYPTED PASSWORD 'root';
GRANT ALL PRIVILEGES ON DATABASE bookings_db TO postgres;
```

### 4Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
PORT=3000
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASS=root
DB_NAME=bookings_db
```

> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π PostgreSQL.

### 5Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm run start:dev
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:3000/api](http://localhost:3000/api)

> –ï—Å–ª–∏ –ø–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç, –∏–∑–º–µ–Ω–∏—Ç–µ `PORT` –≤ `.env`.

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ events/
‚îÇ  ‚îú‚îÄ dto/
‚îÇ  ‚îÇ  ‚îî‚îÄ create-event.dto.ts
‚îÇ  ‚îú‚îÄ entities/
‚îÇ  ‚îÇ  ‚îî‚îÄ event.entity.ts
‚îÇ  ‚îú‚îÄ events.controller.ts
‚îÇ  ‚îî‚îÄ events.service.ts
‚îú‚îÄ bookings/
‚îÇ  ‚îú‚îÄ entities/
‚îÇ  ‚îÇ  ‚îî‚îÄ booking.entity.ts
‚îÇ  ‚îú‚îÄ bookings.controller.ts
‚îÇ  ‚îî‚îÄ bookings.service.ts
‚îú‚îÄ app.module.ts
‚îî‚îÄ main.ts
```

---

## üîó Endpoints

### –°–æ–±—ã—Ç–∏—è

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET   | `/api/events` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π |
| GET   | `/api/events/:id` | –ü–æ–ª—É—á–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –ø–æ ID |
| POST  | `/api/events` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ |

**–ü—Ä–∏–º–µ—Ä POST –∑–∞–ø—Ä–æ—Å–∞:**

```json
POST /api/events
{
  "name": "Local Conference",
  "total_seats": 50
}
```

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| POST  | `/api/bookings/reserve` | –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ |

**–ü—Ä–∏–º–µ—Ä POST –∑–∞–ø—Ä–æ—Å–∞:**

```json
POST /api/bookings/reserve
{
  "event_id": 1,
  "seats": 2
}
```

---

## ‚ö° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞: `npm run start:dev`  
- –°–±–æ—Ä–∫–∞ TypeScript: `npm run build`  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π TypeORM: `npm run typeorm:show`

---

## üõ° –°–æ–≤–µ—Ç—ã

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å `.env` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.  
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ TypeORM –≤–º–µ—Å—Ç–æ `synchronize: true`.  
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–∞.  
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Postman –∏–ª–∏ curl –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API.

---

## üöÄ –ó–∞–ø—É—Å–∫ Postman

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é.
2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–∞—à–∏–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º (`GET /api/events`, `POST /api/events`, `POST /api/bookings/reserve`).
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type: application/json` –¥–ª—è POST-–∑–∞–ø—Ä–æ—Å–æ–≤.

---